// EXPECT: PASS
// SOLVER_ARGS: --main @main --path '^entry'
// INTERP_ARGS: --main @main --sym %?byte=35
// COMPILER_ARGS: --main @main --sym %?byte=35

// Reverse CRC-ish step
// Find byte that produces specific CRC update?
// Simple hash: h = (h << 5) ^ byte.
// Init h = 0.
// Output = 35 (ascii '#').
// Byte should be 35.

fun @main() : i32 {
  sym %?byte : value i32 in [0, 255];
  let mut %h: i32 = 0;
  let %five: i32 = 5;
  let %b: i32 = %?byte;

^entry:
  %h = %h << %five;
  %h = %h ^ %b;

  require %h == 35, "hash must match target value 35";

  ret 0;
}
